<!--
   - Copyright 2011 Jive Software
   -
   - Licensed under the Apache License, Version 2.0 (the "License");
   - you may not use this file except in compliance with the License.
   - You may obtain a copy of the License at
   -
   -    http://www.apache.org/licenses/LICENSE-2.0
   -
   - Unless required by applicable law or agreed to in writing, software
   - distributed under the License is distributed on an "AS IS" BASIS,
   - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   - See the License for the specific language governing permissions and
   - limitations under the License.
  -->

<script type="text/javascript">

  function updateData(){
       	 var prefs = new gadgets.Prefs();
	     var value = document.getElementById('workLocationInput').value;
	     jive.opensocial.editingDone("User prefs updated!", true); 
	  
  };

  function loadData() {
        var prefs = new gadgets.Prefs();
        var workLocation = prefs.getString("work_location");
        document.getElementById('workLocationInput').value = workLocation;
  };

  function cancelChanges(){
   jive.opensocial.editingCanceled("No changes to user prefs!", false);	
  };
  
  gadgets.util.registerOnLoadHandler(loadData);

</script>


Where do you work? <input type="text" id="workLocationInput" />
<input type="button" value="Submit" onclick="updateData()"/>
<input type="button" value="Cancel" onclick="cancelChanges()"/>